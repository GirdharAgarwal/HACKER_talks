(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{42:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(15),c=n.n(a),r=n(4),i=n(8),o=n(17),u=n(1);var l=function(){var e=Object(s.useContext)(Q),t=e.state,n=(e.dispatch,function(){return t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/signout",children:"Sign out"})}),Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/profile",children:Object(u.jsx)(o.a,{size:24})})})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/signup",children:"Sign up"})}),Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/signin",children:"Sign in"})})]})});return Object(u.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("h1",{className:"navbar-brand fw-bolder logo px-3 py-3",children:"HACKER talks"}),Object(u.jsxs)("ul",{className:"navbar-nav ml-auto content",children:[Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/qna",children:"QnA"})}),Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/ask",children:"Post Question"})}),Object(u.jsx)("li",{className:"nav-item mx-1",children:Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/post",children:"Post Content"})}),Object(u.jsx)(n,{})]})]})})},j=n(3),b=n.n(j),p=n(5),d=n(6),m=n(7);var h=function(e){var t=Object(m.f)(),n=e.id,a=e.subj,c=e.content,i=e.username,o=(e.like,e.unlike,e.date),l=e.likeusers,j=e.unlikeusers,h=e.likec,x=e.unlikec,O=new Date(o),f=Object(s.useState)(l.length),v=Object(r.a)(f,2),k=v[0],w=v[1],g=Object(s.useState)(j.length),y=Object(r.a)(g,2),N=y[0],C=y[1],S=Object(s.useState)(h),T=Object(r.a)(S,2),U=T[0],E=T[1],F=Object(s.useState)(x),z=Object(r.a)(F,2),P=z[0],D=z[1],A=function(){var e=Object(p.a)(b.a.mark((function e(s){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent)&&200==a.status){e.next=12;break}throw new Error("Try again");case 12:E(!U),w(c.likeCount),N>c.unlikeCount&&D(!1),C(c.unlikeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();function q(e){return J.apply(this,arguments)}function J(){return(J=Object(p.a)(b.a.mark((function e(s){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/unlike",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent)&&200==a.status){e.next=12;break}throw new Error("Try again");case 12:D(!P),C(c.unlikeCount),k>c.likeCount&&E(!1),w(c.likeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}var L=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,200==t.status){e.next=12;break}throw new Error(t.error);case 12:setUser(n.username),dispatch({type:"USER",payload:!0});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){L()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"disp-box",children:[Object(u.jsx)("div",{className:"head-content",children:a}),Object(u.jsx)("div",{className:"disp-content",children:c}),Object(u.jsxs)("div",{children:[!0===U?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Like",onClick:A,children:Object(u.jsx)(d.b,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Like",onClick:A,children:Object(u.jsx)(d.b,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:k}),!0===P?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Unlike",onClick:q,children:Object(u.jsx)(d.a,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Unlike",onClick:q,children:Object(u.jsx)(d.a,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:N}),Object(u.jsxs)("p",{className:"disp-user",children:["\u261e  ",i,Object(u.jsxs)("p",{className:"disp-date",children:["(",O.toDateString(),")"]})]})]})]})})};var x=function(){var e=Object(s.useContext)(Q),t=(e.state,e.dispatch),n=Object(s.useState)([]),a=Object(r.a)(n,2),c=a[0],i=a[1],o=Object(s.useState)("Upload Date"),l=Object(r.a)(o,2),j=l[0],d=l[1],m=Object(s.useState)(),x=Object(r.a)(m,2),O=x[0],f=x[1],v=function(){var e=Object(p.a)(b.a.mark((function e(){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(s=e.sent,200==n.status){e.next=12;break}throw new Error(n.error);case 12:f(s.username),t({type:"USER",payload:!0});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function k(){return(k=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.next=4,w();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){k.apply(this,arguments)}()}),[]);var w=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getpostsortbyUploadDate");case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,i(n),200==t.status){e.next=11;break}throw new Error(t.error);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();function g(){return(g=Object(p.a)(b.a.mark((function e(t){var n,s,a,c,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(t.target.value),"Upload Date"!==t.target.value){e.next=5;break}e.next=59;break;case 5:if("Upvotes"!==t.target.value){e.next=24;break}return e.prev=6,e.next=9,fetch("/getpostsortbyUpvotes");case 9:return n=e.sent,e.next=12,n.json();case 12:if(s=e.sent,i(s),200==n.status){e.next=17;break}throw new Error(n.error);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:e.next=59;break;case 24:if("Username"!==t.target.value){e.next=43;break}return e.prev=25,e.next=28,fetch("/getpostsortbyUsername");case 28:return a=e.sent,e.next=31,a.json();case 31:if(c=e.sent,i(c),200==a.status){e.next=36;break}throw new Error(a.error);case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(25),console.log(e.t1);case 41:e.next=59;break;case 43:return e.prev=43,e.next=46,fetch("/getpostsortbyDownvotes");case 46:return r=e.sent,e.next=49,r.json();case 49:if(o=e.sent,i(o),200==r.status){e.next=54;break}throw new Error(r.error);case 54:e.next=59;break;case 56:e.prev=56,e.t2=e.catch(43),console.log(e.t2);case 59:case"end":return e.stop()}}),e,null,[[6,19],[25,38],[43,56]])})))).apply(this,arguments)}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{for:"sortby",children:"Sort by "}),Object(u.jsxs)("select",{name:"sortby",id:"sortby",onChange:function(e){return g.apply(this,arguments)},value:j,children:[Object(u.jsx)("option",{value:"Upload Date",children:"Upload Date"}),Object(u.jsx)("option",{value:"Upvotes",children:"Upvotes"}),Object(u.jsx)("option",{value:"Downvotes",children:"Downvotes"}),Object(u.jsx)("option",{value:"Username",children:"Username"})]}),c.map((function(e){var t=!1,n=!1;return e.likeusers.includes(O)&&(t=!0),e.unlikeusers.includes(O)&&(n=!0),Object(u.jsx)(h,{id:e._id,subj:e.subj,content:e.content,username:e.username,like:e.like,unlike:e.unlike,date:e.date,likeusers:e.likeusers,unlikeusers:e.unlikeusers,likec:t,unlikec:n},e._id)}))]})},O=n(11),f=n(9);var v=function(){var e=Object(s.useContext)(Q),t=(e.state,e.dispatch),n=Object(m.f)(),a=Object(s.useState)({title:"",content:"",username:""}),c=Object(r.a)(a,2),i=c[0],o=c[1],l=function(){var e=Object(p.a)(b.a.mark((function e(){var s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:if(a=e.sent,200==s.status){e.next=12;break}throw new Error(s.error);case 12:o(Object(f.a)(Object(f.a)({},i),{},{username:a.username})),t({type:"USER",payload:!0});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),n.push("/signin");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){l()}),[]);var j=function(){var e=Object(p.a)(b.a.mark((function e(t){var s,a,c,r,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=i.title,a=i.content,i.username,c=s,e.prev=3,e.next=6,fetch("/doubt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subj:c,content:a})});case 6:return r=e.sent,e.next=9,r.json();case 9:if((u=e.sent)&&201==r.status){e.next=15;break}throw new Error("Unauthorized Access");case 15:window.alert(u.message),n.push("/qna");case 17:o({title:"",content:"",username:""}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0),n.push("/signin");case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t){return e.apply(this,arguments)}}();function d(e){var t=e.target.name,n=e.target.value;o(Object(f.a)(Object(f.a)({},i),{},Object(O.a)({},t,n)))}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"post-box",children:Object(u.jsxs)("form",{className:"post-form",children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"title",className:"small-size",children:"Subject"}),Object(u.jsx)("input",{type:"text",name:"title",id:"title",value:i.title,onChange:d,autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"content",className:"small-size",children:"Query *"}),Object(u.jsx)("textarea",{rows:"6",type:"text",name:"content",className:"form-control",id:"content",value:i.content,onChange:d,autoComplete:"off",required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"mb-3 mx-auto btn btn-primary",onClick:j,children:"Post Question"})]})})})};var k=function(){var e=Object(s.useContext)(Q),t=(e.state,e.dispatch),n=Object(m.f)(),a=Object(s.useState)({title:"",content:"",username:""}),c=Object(r.a)(a,2),i=c[0],o=c[1],l=function(){var e=Object(p.a)(b.a.mark((function e(){var s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:if(a=e.sent,200==s.status){e.next=12;break}throw new Error(s.error);case 12:o(Object(f.a)(Object(f.a)({},i),{},{username:a.username})),t({type:"USER",payload:!0});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),n.push("/signin");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function j(){return(j=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]);var d=function(){var e=Object(p.a)(b.a.mark((function e(t){var s,a,c,r,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=i.title,a=i.content,i.username,c=s,e.prev=3,e.next=6,fetch("/addpost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subj:c,content:a})});case 6:return r=e.sent,e.next=9,r.json();case 9:if((u=e.sent)&&201==r.status){e.next=16;break}throw new Error("Unauthorized Access");case 16:window.alert(u.message),n.push("/");case 18:o({title:"",content:"",username:""}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.log(e.t0),n.push("/signin");case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}();function h(e){var t=e.target.name,n=e.target.value;o(Object(f.a)(Object(f.a)({},i),{},Object(O.a)({},t,n)))}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"post-box",children:Object(u.jsxs)("form",{className:"post-form",children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"title",className:"small-size",children:"Title"}),Object(u.jsx)("input",{type:"text",name:"title",id:"title",value:i.title,onChange:h,autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"content",className:"small-size",children:"Content *"}),Object(u.jsx)("textarea",{rows:"6",type:"text",name:"content",className:"form-control",id:"content",value:i.content,onChange:h,autoComplete:"off",required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"mb-3 mx-auto btn btn-primary",onClick:d,children:"Post Content"})]})})})};var w=function(e){var t=e.username,n=e.name,s=(e.email,e.about);return e.tokens,Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"profile-box",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-2",children:Object(u.jsx)("img",{className:"profile-img",src:"/public/uploads/Unknown.jpg",alt:t})}),Object(u.jsxs)("div",{className:"col-10",children:[Object(u.jsx)("p",{className:"h-profile",children:t}),Object(u.jsx)("p",{className:"c-profile",children:n}),Object(u.jsx)("p",{className:"c-profile",children:s})]})]})})})})},g=n(18),y=n(19);var N=function(e){var t=Object(m.f)(),n=e.id,a=e.subj,c=e.content,i=e.username,o=(e.like,e.unlike,e.date),l=e.likeusers,j=e.unlikeusers,h=e.likec,x=e.unlikec,v=new Date(o),k=Object(s.useState)(l.length),w=Object(r.a)(k,2),N=w[0],C=w[1],S=Object(s.useState)(j.length),T=Object(r.a)(S,2),U=T[0],E=T[1],F=Object(s.useState)(h),z=Object(r.a)(F,2),P=z[0],D=z[1],A=Object(s.useState)(x),q=Object(r.a)(A,2),J=q[0],L=q[1],R=Object(s.useState)(!0),_=Object(r.a)(R,2),G=_[0],Q=_[1],B=Object(s.useState)(!1),H=Object(r.a)(B,2),I=H[0],K=H[1],W=Object(s.useState)({title:a,content:c}),M=Object(r.a)(W,2),V=M[0],X=M[1],Y=Object(s.useState)({title:a,content:c}),Z=Object(r.a)(Y,2),$=Z[0],ee=Z[1],te=function(){var e=Object(p.a)(b.a.mark((function e(s){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent)&&200==a.status){e.next=12;break}throw new Error("Try again");case 12:D(!P),C(c.likeCount),U>c.unlikeCount&&L(!1),E(c.unlikeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();function ne(e){return se.apply(this,arguments)}function se(){return(se=Object(p.a)(b.a.mark((function e(s){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/unlike",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})});case 3:return a=e.sent,e.next=6,a.json();case 6:if((c=e.sent)&&200==a.status){e.next=12;break}throw new Error("Try again");case 12:L(!J),E(c.unlikeCount),N>c.likeCount&&D(!1),C(c.likeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ae(){return(ae=Object(p.a)(b.a.mark((function e(s){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!1),e.prev=1,e.next=4,fetch("/deletePost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(c=e.sent){e.next=14;break}throw window.alert("Unauthorized Access"),new Error("Unauthorized Access");case 14:window.alert([c.message]);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),window.alert([data.error]),t.push("/signin");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function ce(e){var t=e.target.name,n=e.target.value;X(Object(f.a)(Object(f.a)({},V),{},Object(O.a)({},t,n)))}function re(){return(re=Object(p.a)(b.a.mark((function e(t){var s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/updatepost",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,subj:V.title,content:V.content})});case 4:return s=e.sent,e.next=7,s.json();case 7:if((a=e.sent)&&201==s.status){e.next=14;break}throw new Error("Unauthorized Access");case 14:window.alert(a.message),ee(V),Q(!0),K(!1);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}return Object(u.jsxs)(u.Fragment,{children:[G?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"disp-box",children:[Object(u.jsxs)("div",{className:"head-content",children:[$.title,Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Delete",onClick:function(e){return ae.apply(this,arguments)},children:Object(u.jsx)(g.a,{size:25})}),Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Edit",onClick:function(e){X($),Q(!1),K(!0)},children:Object(u.jsx)(y.a,{size:25})})]}),Object(u.jsx)("div",{className:"disp-content",children:$.content}),Object(u.jsxs)("div",{children:[!0===P?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Like",onClick:te,children:Object(u.jsx)(d.b,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Like",onClick:te,children:Object(u.jsx)(d.b,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:N}),!0===J?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Unlike",onClick:ne,children:Object(u.jsx)(d.a,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Unlike",onClick:ne,children:Object(u.jsx)(d.a,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:U}),Object(u.jsxs)("p",{className:"disp-user",children:["-",i,"(",v.toDateString(),")"]})]})]})}):Object(u.jsx)(u.Fragment,{}),I?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"post-box",children:Object(u.jsxs)("form",{className:"post-form",children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"title",className:"small-size",children:"Title"}),Object(u.jsx)("input",{type:"text",name:"title",id:"title",value:V.title,onChange:ce,autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"content",className:"small-size",children:"Content *"}),Object(u.jsx)("textarea",{rows:"6",type:"text",name:"content",className:"form-control",id:"content",value:V.content,onChange:ce,autoComplete:"off",required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"mb-3 mx-auto btn btn-primary",onClick:function(e){return re.apply(this,arguments)},children:"Update Post"}),Object(u.jsx)("button",{className:"mb-3 mx-auto btn btn-primary",onClick:function(){Q(!0),K(!1)},children:"Cancel"})]})})}):Object(u.jsx)(u.Fragment,{})]})};n(26);var C=function(e){var t=Object(m.f)(),n=e.id,a=e.qid,c=e.content,i=e.username,o=e.like,l=e.unlike,j=e.date,h=(e.likeusers,e.unlikeusers,e.likec),x=e.unlikec,v=e.activeuser,k=new Date(j),w=Object(s.useState)(o),N=Object(r.a)(w,2),C=N[0],S=N[1],T=Object(s.useState)(l),U=Object(r.a)(T,2),E=U[0],F=U[1],z=Object(s.useState)(h),P=Object(r.a)(z,2),D=P[0],A=P[1],q=Object(s.useState)(x),J=Object(r.a)(q,2),L=J[0],R=J[1],_=Object(s.useState)(!0),G=Object(r.a)(_,2),Q=G[0],B=G[1],H=Object(s.useState)(!1),I=Object(r.a)(H,2),K=I[0],W=I[1],M=Object(s.useState)({content:c}),V=Object(r.a)(M,2),X=V[0],Y=V[1],Z=Object(s.useState)({content:c}),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=function(){var e=Object(p.a)(b.a.mark((function e(s){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/likea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:a,id:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:if((r=e.sent)&&200==c.status){e.next=12;break}throw new Error("Try again");case 12:A(!D),S(r.likeCount),E>r.unlikeCount&&R(!1),F(r.unlikeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();function se(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(p.a)(b.a.mark((function e(s){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/unlikea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:a,id:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:if((r=e.sent)&&200==c.status){e.next=12;break}throw new Error("Try again");case 12:R(!L),F(r.unlikeCount),C>r.likeCount&&A(!1),S(r.likeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function ce(){return(ce=Object(p.a)(b.a.mark((function e(s){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!1),e.prev=1,e.next=4,fetch("/deleteAns",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:a,id:n})});case 4:return c=e.sent,e.next=7,c.json();case 7:if(r=e.sent){e.next=14;break}throw window.alert("Unauthorized Access"),new Error("Unauthorized Access");case 14:window.alert([r.message]);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),window.alert([data.error]),t.push("/signin");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function re(){return(re=Object(p.a)(b.a.mark((function e(t){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/updateans",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:a,id:n,content:X.content})});case 4:return s=e.sent,e.next=7,s.json();case 7:if((c=e.sent)&&201==s.status){e.next=14;break}throw new Error("Unauthorized Access");case 14:window.alert(c.message),te(X),B(!0),W(!1);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:v==i?Object(u.jsxs)(u.Fragment,{children:[Q?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"disp-box",children:[Object(u.jsxs)("div",{className:"disp-content",children:[ee.content,Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Delete",onClick:function(e){return ce.apply(this,arguments)},children:Object(u.jsx)(g.a,{size:25})}),Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Edit",onClick:function(e){Y(ee),B(!1),W(!0)},children:Object(u.jsx)(y.a,{size:25})})]}),Object(u.jsxs)("div",{children:[!0===D?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Like",onClick:ne,children:Object(u.jsx)(d.b,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Like",onClick:ne,children:Object(u.jsx)(d.b,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:C}),!0===L?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Unlike",onClick:se,children:Object(u.jsx)(d.a,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Unlike",onClick:se,children:Object(u.jsx)(d.a,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:E}),Object(u.jsxs)("p",{className:"disp-user",children:["-",i,"(",k.toDateString(),")"]})]})]})}):Object(u.jsx)(u.Fragment,{}),K?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"outer shadow",children:Object(u.jsxs)("form",{className:"post-form",children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"content",className:"small-size",children:"Content *"}),Object(u.jsx)("textarea",{rows:"6",type:"text",name:"content",className:"form-control",id:"content",value:X.content,onChange:function(e){var t=e.target.name,n=e.target.value;Y(Object(f.a)(Object(f.a)({},X),{},Object(O.a)({},t,n)))},autoComplete:"off",required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"mb-3 mx-auto btn btn-primary",onClick:function(e){return re.apply(this,arguments)},children:"Update Ans"}),Object(u.jsx)("button",{className:"mb-3 mx-auto btn btn-primary",onClick:function(){B(!0),W(!1)},children:"Cancel"})]})})}):Object(u.jsx)(u.Fragment,{})]}):Object(u.jsx)(u.Fragment,{})})};var S=function(e){var t=Object(s.useContext)(Q),n=(t.state,t.dispatch,Object(m.f)()),a=e.id,c=e.subj,i=e.content,o=e.username,l=(e.like,e.unlike,e.date),j=e.likeusers,h=e.unlikeusers,x=e.activeuser,v=e.likec,k=e.unlikec,w=e.answers,N=new Date(l),S=Object(s.useState)(j.length),T=Object(r.a)(S,2),U=T[0],E=T[1],F=Object(s.useState)(h.length),z=Object(r.a)(F,2),P=z[0],D=z[1],A=Object(s.useState)(v),q=Object(r.a)(A,2),J=q[0],L=q[1],R=Object(s.useState)(k),_=Object(r.a)(R,2),G=_[0],B=_[1],H=Object(s.useState)(!1),I=Object(r.a)(H,2),K=I[0],W=I[1],M=Object(s.useState)(w),V=Object(r.a)(M,2),X=V[0],Y=V[1],Z=Object(s.useState)(!0),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ne=Object(s.useState)(!1),se=Object(r.a)(ne,2),ae=se[0],ce=se[1],re=Object(s.useState)({title:c,content:i}),ie=Object(r.a)(re,2),oe=ie[0],ue=ie[1],le=Object(s.useState)({title:c,content:i}),je=Object(r.a)(le,2),be=je[0],pe=je[1],de=function(){var e=Object(p.a)(b.a.mark((function e(t){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/likeques",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})});case 3:return s=e.sent,e.next=6,s.json();case 6:if((c=e.sent)&&200==s.status){e.next=12;break}throw new Error("Try again");case 12:L(!J),E(c.likeCount),P>c.unlikeCount&&B(!1),D(c.unlikeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),n.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();function me(e){return he.apply(this,arguments)}function he(){return(he=Object(p.a)(b.a.mark((function e(t){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/unlikeques",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})});case 3:return s=e.sent,e.next=6,s.json();case 6:if((c=e.sent)&&200==s.status){e.next=12;break}throw new Error("Try again");case 12:B(!G),D(c.unlikeCount),U>c.likeCount&&L(!1),E(c.likeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),n.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function xe(){if(K){var e=function(){var e=Object(p.a)(b.a.mark((function e(t){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/addanswer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:a,content:i})});case 4:return s=e.sent,e.next=7,s.json();case 7:if((c=e.sent)&&201==s.status){e.next=14;break}throw new Error("Unauthorized Access");case 14:Y(c.answers[0]),W(!1);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0),n.push("/signin");case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),t=Object(s.useState)(""),c=Object(r.a)(t,2),i=c[0],o=c[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"outer shadow",children:Object(u.jsxs)("form",{className:"post-form",children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"content",className:"small-size",children:"Answer *"}),Object(u.jsx)("textarea",{rows:"6",type:"text",name:"answer",className:"form-control",id:"answer",autoComplete:"off",value:i,onChange:function(e){var t=e.target.value;o(t)},required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"mb-3 mx-auto btn btn-primary",onClick:e,children:"Post Content"}),Object(u.jsx)("button",{className:"mb-3 mx-auto btn btn-primary",onClick:function(){W(!1)},children:"Close"})]})})})}return Object(u.jsx)(u.Fragment,{})}function Oe(){return(Oe=Object(p.a)(b.a.mark((function e(t){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!1),e.prev=1,e.next=4,fetch("/deleteQues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})});case 4:return s=e.sent,e.next=7,s.json();case 7:if(c=e.sent){e.next=14;break}throw window.alert("Unauthorized Access"),new Error("Unauthorized Access");case 14:window.alert([c.message]);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),window.alert([data.error]),n.push("/signin");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}function fe(e){var t=e.target.name,n=e.target.value;ue(Object(f.a)(Object(f.a)({},oe),{},Object(O.a)({},t,n)))}function ve(){return(ve=Object(p.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/updateques",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,subj:oe.title,content:oe.content})});case 4:return n=e.sent,e.next=7,n.json();case 7:if((s=e.sent)&&201==n.status){e.next=14;break}throw new Error("Unauthorized Access");case 14:window.alert(s.message),pe(oe),te(!0),ce(!1);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])})))).apply(this,arguments)}return Object(u.jsxs)(u.Fragment,{children:[ee?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"disp-box",children:[Object(u.jsxs)("div",{className:"head-content",children:[be.title,x==o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Delete",onClick:function(e){return Oe.apply(this,arguments)},children:Object(u.jsx)(g.a,{size:25})}),Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Edit",onClick:function(e){ue(be),te(!1),ce(!0)},children:Object(u.jsx)(y.a,{size:25})})]}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsx)("div",{className:"disp-content",children:be.content}),Object(u.jsxs)("div",{children:[!0===J?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Like",onClick:de,children:Object(u.jsx)(d.b,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Like",onClick:de,children:Object(u.jsx)(d.b,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:U}),!0===G?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Unlike",onClick:me,children:Object(u.jsx)(d.a,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Unlike",onClick:me,children:Object(u.jsx)(d.a,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:P}),Object(u.jsxs)("p",{className:"disp-user",children:["-",o,"(",N.toDateString(),")"]})]}),Object(u.jsx)("button",{type:"button",className:"answer-button",name:"Addanswer",onClick:function(e){W(!0)},children:"Add Answer"})]})}):Object(u.jsx)(u.Fragment,{}),ae?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"post-box",children:Object(u.jsxs)("form",{className:"post-form",children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"title",className:"small-size",children:"Title"}),Object(u.jsx)("input",{type:"text",name:"title",id:"title",value:oe.title,onChange:fe,autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{for:"content",className:"small-size",children:"Content *"}),Object(u.jsx)("textarea",{rows:"6",type:"text",name:"content",className:"form-control",id:"content",value:oe.content,onChange:fe,autoComplete:"off",required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"mb-3 mx-auto btn btn-primary",onClick:function(e){return ve.apply(this,arguments)},children:"Update Ques"}),Object(u.jsx)("button",{className:"mb-3 mx-auto btn btn-primary",onClick:function(){te(!0),ce(!1)},children:"Cancel"})]})})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)(xe,{}),X.map((function(e){var t=!1,n=!1;return e.likeusers&&e.likeusers.includes(x)&&(t=!0),e.unlikeusers&&e.unlikeusers.includes(x)&&(n=!0),Object(u.jsx)(C,{qid:a,id:e._id,content:e.content,username:e.username,like:e.like,unlike:e.unlike,date:e.date,likeusers:e.likeusers,unlikeusers:e.unlikeusers,likec:t,unlikec:n,activeuser:x},e._id)}))]})};var T=function(){var e=Object(s.useContext)(Q),t=(e.state,e.dispatch),n=Object(m.f)(),a=Object(s.useState)({}),c=Object(r.a)(a,2),i=c[0],o=c[1],l=Object(s.useState)([]),j=Object(r.a)(l,2),d=j[0],h=j[1],x=Object(s.useState)([]),O=Object(r.a)(x,2),f=O[0],v=O[1],k=function(){var e=Object(p.a)(b.a.mark((function e(){var s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return s=e.sent,e.next=6,s.json();case 6:if(a=e.sent){e.next=12;break}throw new Error(s.error);case 12:o(a),t({type:"USER",payload:!0});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),n.push("/signin");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(b.a.mark((function e(){var t,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getData",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent){e.next=12;break}throw new Error(t.error);case 12:h(s.posts),v(s.ques);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),n.push("/signin");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function y(){return(y=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return e.next=4,g();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(w,{username:i.username,name:i.name,email:i.email,tokens:i.tokens,about:i.about}),0!=d.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"prof-heading",children:"Posts:- "}),d.map((function(e){var t=!1,n=!1,s=i.username;return e.likeusers.includes(s)&&(t=!0),e.unlikeusers.includes(s)&&(n=!0),Object(u.jsx)(N,{id:e._id,subj:e.subj,content:e.content,username:e.username,like:e.like,unlike:e.unlike,date:e.date,likeusers:e.likeusers,unlikeusers:e.unlikeusers,likec:t,unlikec:n},e._id)}))]}):Object(u.jsx)(u.Fragment,{}),0!=f.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"prof-heading",children:"Questions And Answers:- "}),f.map((function(e){var t=!1,n=!1,s=i.username;return e.likeusers.includes(s)&&(t=!0),e.unlikeusers.includes(s)&&(n=!0),Object(u.jsx)(S,{id:e._id,subj:e.subj,content:e.content,username:e.username,like:e.like,unlike:e.unlike,date:e.date,likeusers:e.likeusers,unlikeusers:e.unlikeusers,activeuser:s,likec:t,unlikec:n,answers:e.answers},e._id)}))]}):Object(u.jsx)(u.Fragment,{})]})};var U=function(e){var t=Object(m.f)(),n=e.id,a=e.qid,c=e.content,i=e.username,o=e.like,l=e.unlike,j=e.date,h=(e.likeusers,e.unlikeusers,e.likec),x=e.unlikec,O=(e.activeuser,new Date(j)),f=Object(s.useState)(o),v=Object(r.a)(f,2),k=v[0],w=v[1],g=Object(s.useState)(l),y=Object(r.a)(g,2),N=y[0],C=y[1],S=Object(s.useState)(h),T=Object(r.a)(S,2),U=T[0],E=T[1],F=Object(s.useState)(x),z=Object(r.a)(F,2),P=z[0],D=z[1],A=function(){var e=Object(p.a)(b.a.mark((function e(s){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/likea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:a,id:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:if((r=e.sent)&&200==c.status){e.next=12;break}throw new Error("Try again");case 12:E(!U),w(r.likeCount),N>r.unlikeCount&&D(!1),C(r.unlikeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();function q(e){return J.apply(this,arguments)}function J(){return(J=Object(p.a)(b.a.mark((function e(s){var c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/unlikea",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:a,id:n})});case 3:return c=e.sent,e.next=6,c.json();case 6:if((r=e.sent)&&200==c.status){e.next=12;break}throw new Error("Try again");case 12:D(!P),C(r.unlikeCount),k>r.likeCount&&E(!1),w(r.likeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),t.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"disp-ans-box",children:[Object(u.jsx)("div",{className:"disp-content",children:c}),Object(u.jsxs)("div",{children:[!0===U?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Like",onClick:A,children:Object(u.jsx)(d.b,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Like",onClick:A,children:Object(u.jsx)(d.b,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:k}),!0===P?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Unlike",onClick:q,children:Object(u.jsx)(d.a,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Unlike",onClick:q,children:Object(u.jsx)(d.a,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:N}),Object(u.jsxs)("p",{className:"disp-user",children:["\u261e  ",i,Object(u.jsxs)("p",{className:"disp-date",children:["(",O.toDateString(),")"]})]})]})]})})};var E=function(e){var t=Object(s.useContext)(Q),n=(t.state,t.dispatch),a=Object(m.f)(),c=e.id,i=e.subj,o=e.content,l=e.username,j=(e.like,e.unlike,e.date),h=e.likeusers,x=e.unlikeusers,O=e.activeuser,f=e.likec,v=e.unlikec,k=e.answers,w=new Date(j),g=Object(s.useState)(h.length),y=Object(r.a)(g,2),N=y[0],C=y[1],S=Object(s.useState)(x.length),T=Object(r.a)(S,2),E=T[0],F=T[1],z=Object(s.useState)(f),P=Object(r.a)(z,2),D=P[0],A=P[1],q=Object(s.useState)(v),J=Object(r.a)(q,2),L=J[0],R=J[1],_=Object(s.useState)(!1),G=Object(r.a)(_,2),B=G[0],H=G[1],I=Object(s.useState)(k),K=Object(r.a)(I,2),W=K[0],M=K[1],V=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/likeques",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c})});case 3:return n=e.sent,e.next=6,n.json();case 6:if((s=e.sent)&&200==n.status){e.next=12;break}throw new Error("Try again");case 12:A(!D),C(s.likeCount),E>s.unlikeCount&&R(!1),F(s.unlikeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),a.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();function X(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(p.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/unlikeques",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c})});case 3:return n=e.sent,e.next=6,n.json();case 6:if((s=e.sent)&&200==n.status){e.next=12;break}throw new Error("Try again");case 12:R(!L),F(s.unlikeCount),N>s.likeCount&&A(!1),C(s.likeCount);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),a.push("/signin"),console.log("Unsuccessful");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function Z(){if(B){var e=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/addanswer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qid:c,content:i})});case 4:return n=e.sent,e.next=7,n.json();case 7:if((s=e.sent)&&201==n.status){e.next=14;break}throw new Error("Unauthorized Access");case 14:M(s.answers[0]),H(!1);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0),a.push("/signin");case 22:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),t=Object(s.useState)(""),n=Object(r.a)(t,2),i=n[0],o=n[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"outer shadow",children:Object(u.jsxs)("form",{className:"post-form",children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{htmlFor:"content",className:"small-size",children:"Answer *"}),Object(u.jsx)("textarea",{rows:"6",type:"text",name:"answer",className:"form-control",id:"answer",autoComplete:"off",value:i,onChange:function(e){var t=e.target.value;o(t)},required:!0})]}),Object(u.jsx)("button",{type:"submit",className:"mb-3 mx-auto btn btn-primary",onClick:e,children:"Post Content"}),Object(u.jsx)("button",{className:"mb-3 mx-auto btn btn-primary",onClick:function(){H(!1)},children:"Close"})]})})})}return Object(u.jsx)(u.Fragment,{})}var $=function(){var e=Object(p.a)(b.a.mark((function e(){var t,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,200==t.status){e.next=12;break}throw new Error(t.error);case 12:setUser(s.username),n({type:"USER",payload:!0});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){$()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"disp-box",children:[Object(u.jsx)("div",{className:"head-content",children:i}),Object(u.jsx)("div",{className:"disp-content",children:o}),Object(u.jsxs)("div",{children:[!0===D?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Like",onClick:V,children:Object(u.jsx)(d.b,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Like",onClick:V,children:Object(u.jsx)(d.b,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:N}),!0===L?Object(u.jsx)("button",{type:"button",className:"disp-button clicked",name:"Unlike",onClick:X,children:Object(u.jsx)(d.a,{size:25})}):Object(u.jsx)("button",{type:"button",className:"disp-button",name:"Unlike",onClick:X,children:Object(u.jsx)(d.a,{size:25})}),Object(u.jsx)("p",{className:"bottom-content",children:E}),Object(u.jsxs)("p",{className:"disp-user",children:["\u261e  ",l,Object(u.jsxs)("p",{className:"disp-date",children:["(",w.toDateString(),")"]})]})]}),Object(u.jsx)("button",{type:"button",className:"answer-button",name:"Addanswer",onClick:function(e){H(!0)},children:"Add Answer"}),Object(u.jsx)(Z,{}),W.map((function(e){var t=!1,n=!1;return e.likeusers&&e.likeusers.includes(O)&&(t=!0),e.unlikeusers&&e.unlikeusers.includes(O)&&(n=!0),Object(u.jsx)(U,{qid:c,id:e._id,content:e.content,username:e.username,like:e.like,unlike:e.unlike,date:e.date,likeusers:e.likeusers,unlikeusers:e.unlikeusers,likec:t,unlikec:n,activeuser:O},e._id)}))]})})};var F=function(){var e=Object(s.useContext)(Q),t=(e.state,e.dispatch),n=Object(s.useState)([]),a=Object(r.a)(n,2),c=a[0],i=a[1],o=Object(s.useState)("Upload Date"),l=Object(r.a)(o,2),j=l[0],d=l[1],m=Object(s.useState)(),h=Object(r.a)(m,2),x=h[0],O=h[1],f=function(){var e=Object(p.a)(b.a.mark((function e(){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/verify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return n=e.sent,e.next=6,n.json();case 6:if(s=e.sent,200==n.status){e.next=12;break}throw new Error(n.error);case 12:O(s.username),t({type:"USER",payload:!0});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function v(){return(v=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return e.next=4,k();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){v.apply(this,arguments)}()}),[]);var k=function(){var e=Object(p.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getquessortbyUploadDate");case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,200==t.status){e.next=10;break}throw new Error(t.error);case 10:i(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();function w(){return(w=Object(p.a)(b.a.mark((function e(t){var n,s,a,c,r,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(t.target.value),"Upload Date"!==t.target.value){e.next=5;break}e.next=59;break;case 5:if("Upvotes"!==t.target.value){e.next=24;break}return e.prev=6,e.next=9,fetch("/getquessortbyUpvotes");case 9:return n=e.sent,e.next=12,n.json();case 12:if(s=e.sent,i(s),200==n.status){e.next=17;break}throw new Error(n.error);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:e.next=59;break;case 24:if("Username"!==t.target.value){e.next=43;break}return e.prev=25,e.next=28,fetch("/getquessortbyUsername");case 28:return a=e.sent,e.next=31,a.json();case 31:if(c=e.sent,i(c),200==a.status){e.next=36;break}throw new Error(a.error);case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(25),console.log(e.t1);case 41:e.next=59;break;case 43:return e.prev=43,e.next=46,fetch("/getquessortbyDownvotes");case 46:return r=e.sent,e.next=49,r.json();case 49:if(o=e.sent,i(o),200==r.status){e.next=54;break}throw new Error(r.error);case 54:e.next=59;break;case 56:e.prev=56,e.t2=e.catch(43),console.log(e.t2);case 59:case"end":return e.stop()}}),e,null,[[6,19],[25,38],[43,56]])})))).apply(this,arguments)}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{htmlFor:"sortby",children:"Sort by "}),Object(u.jsxs)("select",{name:"sortby",id:"sortby",onChange:function(e){return w.apply(this,arguments)},value:j,children:[Object(u.jsx)("option",{value:"Upload Date",children:"Upload Date"}),Object(u.jsx)("option",{value:"Upvotes",children:"Upvotes"}),Object(u.jsx)("option",{value:"Downvotes",children:"Downvotes"}),Object(u.jsx)("option",{value:"Username",children:"Username"})]}),c.map((function(e){var t=!1,n=!1;return e.likeusers.includes(x)&&(t=!0),e.unlikeusers.includes(x)&&(n=!0),Object(u.jsx)(E,{id:e._id,subj:e.subj,content:e.content,username:e.username,like:e.like,unlike:e.unlike,date:e.date,likeusers:e.likeusers,unlikeusers:e.unlikeusers,activeuser:x,likec:t,unlikec:n,answers:e.answers},e._id)}))]})};var z=function(){return Object(u.jsx)("div",{className:"notfound",children:Object(u.jsx)("h1",{className:"display-1",children:"Page not found"})})},P=n.p+"static/media/sign-up.bf77e140.svg",D=n(29),A=n(30),q=n(21);var J=function(){var e,t,n=Object(m.f)(),a=Object(s.useState)({name:"",about:"",username:"",email:"",pwd:"",cpwd:""}),c=Object(r.a)(a,2),l=c[0],j=c[1],h=Object(s.useState)(""),x=Object(r.a)(h,2),v=x[0],k=x[1],w=Object(s.useState)(!1),g=Object(r.a)(w,2),y=g[0],N=g[1];function C(n){e=n.target.name,t=n.target.value,j(Object(f.a)(Object(f.a)({},l),{},Object(O.a)({},e,t)))}var S=function(){var e=Object(p.a)(b.a.mark((function e(t){var s,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/verifyOtp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l.username,otp:v})});case 3:return s=e.sent,e.next=6,s.json();case 6:(a=e.sent)?201===s.status?(window.alert(a.message),n.push("/signin")):(window.alert(a.error),N(!1),j({name:"",about:"",username:"",email:"",pwd:"",cpwd:""}),k(""),n.push("/signup")):window.alert("Please fill the form correctly");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,s,a,c,r,i,o,u,j;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=l.name,s=l.about,a=l.username,c=l.email,r=l.pwd,i=l.cpwd,(o=new FormData).append("name",n),o.append("about",s),o.append("username",a),o.append("email",c),o.append("pwd",r),o.append("cpwd",i),e.next=11,fetch("/signup",{method:"POST",body:o});case 11:return u=e.sent,e.next=14,u.json();case 14:(j=e.sent)?201===u.status?(window.alert(j.message),N(!0)):window.alert(j.error):window.alert("Please fill the form correctly");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:0==y?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"row outer",children:[Object(u.jsxs)("div",{className:"col-md-7",children:[Object(u.jsx)("h2",{className:"form-heading fw-bolder mt-5 mx-5 pb-3",children:"Sign up"}),Object(u.jsxs)("form",{method:"POST",encType:"multipart/form-data",children:[Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"name",children:Object(u.jsx)(d.c,{})}),Object(u.jsx)("input",{type:"text",name:"name",id:"name",autoComplete:"nope",value:l.name,onChange:C,placeholder:"Full Name"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"about",children:Object(u.jsx)(D.a,{})}),Object(u.jsx)("input",{type:"text",name:"about",id:"about",autoComplete:"nope",value:l.about,onChange:C,placeholder:"Bio"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"username",children:Object(u.jsx)(o.a,{})}),Object(u.jsx)("input",{type:"text",name:"username",id:"username",autoComplete:"nope",value:l.username,onChange:C,placeholder:"Username"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"email",children:Object(u.jsx)(A.a,{})}),Object(u.jsx)("input",{type:"text",name:"email",id:"email",autoComplete:"nope",value:l.email,onChange:C,placeholder:"Email address"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"pwd",children:Object(u.jsx)(q.a,{})}),Object(u.jsx)("input",{type:"password",name:"pwd",id:"pwd",autoComplete:"nope",value:l.pwd,onChange:C,placeholder:"Password"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"cpwd",children:Object(u.jsx)(q.a,{})}),Object(u.jsx)("input",{type:"password",name:"cpwd",id:"cpwd",autoComplete:"nope",value:l.cpwd,onChange:C,placeholder:"Confirm Password"})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary mx-5 mb-2",onClick:T,children:"Sign up"})]})]}),Object(u.jsxs)("div",{className:"col-md-5",children:[Object(u.jsx)("img",{className:"action-img",src:P,alt:"Sign-up"}),Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/signin",children:"Already have an account, Sign in"})]})]})}):Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"outer",children:[Object(u.jsx)("input",{name:"otp",id:"otp",autoComplete:"nope",placeholder:"Enter OTP",value:v,onChange:function(e){k(e.target.value)},maxLength:"6"}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary mx-5 mb-2",onClick:S,children:"Submit"})]})})})},L=n.p+"static/media/signin.bdeb0f4c.jpg";var R=function(){var e,t,n=Object(s.useContext)(Q),a=(n.state,n.dispatch),c=Object(m.f)(),l=Object(s.useState)({id:"",pwd:""}),j=Object(r.a)(l,2),d=j[0],h=j[1];function x(n){e=n.target.name,t=n.target.value,h(Object(f.a)(Object(f.a)({},d),{},Object(O.a)({},e,t)))}var v=function(){var e=Object(p.a)(b.a.mark((function e(t){var n,s,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=d.id,s=d.pwd,e.next=4,fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,pwd:s})});case 4:return r=e.sent,e.next=7,r.json();case 7:(i=e.sent)?201===r.status?(a({type:"USER",payload:!0}),window.alert(i.message),c.push("/")):window.alert(i.error):window.alert("Please fill the details correctly"),h({id:"",pwd:""});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"outer shadow row",children:[Object(u.jsxs)("div",{className:"col-md-5",children:[Object(u.jsx)("img",{className:"action-img",src:L,alt:"Sign-in"}),Object(u.jsx)(i.b,{className:"nav-link",exact:!0,to:"/signup",children:"Want to Create an account ?"})]}),Object(u.jsxs)("div",{className:"col-md-7",children:[Object(u.jsx)("h2",{className:"form-heading fw-bolder mt-5 mx-5 pb-3",children:"Sign in"}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"id",children:Object(u.jsx)(o.a,{})}),Object(u.jsx)("input",{type:"text",name:"id",id:"id",autoComplete:"none",value:d.id,onChange:x,placeholder:"Username or Email address"})]}),Object(u.jsxs)("div",{className:"form-group mb-3 mx-5",children:[Object(u.jsx)("label",{htmlFor:"pwd",children:Object(u.jsx)(q.a,{})}),Object(u.jsx)("input",{type:"password",name:"pwd",id:"pwd",autoComplete:"none",value:d.pwd,onChange:x,placeholder:"Password"})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary mx-5 mb-2",onClick:v,children:"Sign in"})]})]})]})})};var _=function(){var e=Object(s.useContext)(Q),t=(e.state,e.dispatch),n=Object(m.f)();return Object(s.useEffect)((function(){fetch("/signout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((function(e){if(t({type:"USER",payload:!1}),n.push("/"),200!=e.status)throw new Error(e.error)})).catch((function(e){console.log(e)}))})),Object(u.jsx)(u.Fragment,{})},G=function(e,t){return"USER"===t.type?t.payload:e},Q=Object(s.createContext)();var B=function(){var e=Object(s.useReducer)(G,null),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Q.Provider,{value:{state:n,dispatch:a},children:Object(u.jsxs)(i.a,{children:[Object(u.jsx)(l,{}),Object(u.jsxs)(m.c,{children:[Object(u.jsx)(m.a,{exact:!0,path:"/",component:x}),Object(u.jsx)(m.a,{exact:!0,path:"/qna",component:F}),Object(u.jsx)(m.a,{exact:!0,path:"/ask",component:v}),Object(u.jsx)(m.a,{exact:!0,path:"/post",component:k}),Object(u.jsx)(m.a,{exact:!0,path:"/signup",component:J}),Object(u.jsx)(m.a,{exact:!0,path:"/signin",component:R}),Object(u.jsx)(m.a,{exact:!0,path:"/signout",component:_}),Object(u.jsx)(m.a,{exact:!0,path:"/profile",component:T}),Object(u.jsx)(m.a,{component:z})]})]})})})};c.a.render(Object(u.jsx)(B,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.d46789c2.chunk.js.map